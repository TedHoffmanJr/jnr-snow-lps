<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Thank you for entering the J and R Property Services Winter Giveaway!">
  <meta name="robots" content="noindex, nofollow">
  
  <title>Thank You - You're Entered! | J and R Property Services Winter Giveaway</title>
  
  <!-- Favicons -->
  <link rel="icon" href="../shared/images/favicons/favicon.ico" sizes="any">
  <link rel="icon" href="../shared/images/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="icon" href="../shared/images/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="../shared/images/favicons/apple-touch-icon.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Base styles -->
  <link rel="stylesheet" href="../shared/css/base.css">
  
  <style>
    body {
      padding-top: 60px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .thanks-hero {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
      color: white;
      padding: var(--space-16) var(--space-4);
      position: relative;
      overflow: hidden;
    }
    
    .thanks-hero::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: float 20s infinite ease-in-out;
    }
    
    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(-20px, -20px) rotate(120deg); }
      66% { transform: translate(20px, -10px) rotate(240deg); }
    }
    
    .thanks-content {
      max-width: 700px;
      text-align: center;
      position: relative;
      z-index: 1;
    }
    
    .thanks-icon {
      width: 100px;
      height: 100px;
      background-color: white;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto var(--space-8);
      animation: checkmarkPop 0.5s ease-out;
      font-size: 50px;
    }
    
    @keyframes checkmarkPop {
      0% { transform: scale(0); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    
    .thanks-heading {
      font-size: var(--text-4xl);
      margin-bottom: var(--space-6);
      color: white;
      animation: fadeInUp 0.6s ease-out 0.2s both;
    }
    
    .thanks-message {
      font-size: var(--text-xl);
      color: rgba(255, 255, 255, 0.95);
      margin-bottom: var(--space-8);
      line-height: 1.6;
      animation: fadeInUp 0.6s ease-out 0.4s both;
    }
    
    .entry-confirmation {
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-lg);
      padding: var(--space-8);
      margin: var(--space-8) 0;
      animation: fadeInUp 0.6s ease-out 0.6s both;
      backdrop-filter: blur(10px);
    }
    
    .entry-confirmation h3 {
      color: white;
      margin-bottom: var(--space-6);
      font-size: var(--text-2xl);
    }
    
    .confirmation-details {
      text-align: left;
      list-style: none;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }
    
    .confirmation-details li {
      padding: var(--space-3);
      background: rgba(255, 255, 255, 0.1);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }
    
    .confirmation-details .icon {
      width: 24px;
      height: 24px;
      background: white;
      color: var(--color-primary);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }
    
    .reminder-box {
      background: white;
      color: var(--color-navy);
      padding: var(--space-6);
      border-radius: var(--radius-lg);
      margin-top: var(--space-6);
      animation: fadeInUp 0.6s ease-out 0.8s both;
    }
    
    .reminder-box h4 {
      color: var(--color-primary);
      margin-bottom: var(--space-3);
    }
    
    .thanks-actions {
      display: flex;
      gap: var(--space-4);
      justify-content: center;
      flex-wrap: wrap;
      margin-top: var(--space-8);
      animation: fadeInUp 0.6s ease-out 1s both;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Quote Section Styles */
    .quote-section {
      background: white;
      color: var(--color-navy);
      padding: var(--space-8);
      border-radius: var(--radius-lg);
      margin-top: var(--space-8);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      animation: fadeInUp 0.6s ease-out 1.2s both;
    }
    
    .quote-section h3 {
      color: var(--color-primary);
      margin-bottom: var(--space-4);
      text-align: center;
    }
    
    .quote-section p {
      text-align: center;
      margin-bottom: var(--space-6);
      color: var(--color-gray-700);
    }
    
    .quote-form-container {
      background: var(--color-gray-50);
      padding: var(--space-6);
      border-radius: var(--radius);
      border: 2px solid var(--color-primary);
    }
    
    .quote-form-container h4 {
      color: var(--color-primary);
      text-align: center;
      margin-bottom: var(--space-6);
    }
    
    .quote-form {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-4);
    }
    
    @media (max-width: 768px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }
    
    .field {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }
    
    .field label {
      font-weight: 600;
      color: var(--color-gray-700);
    }
    
    .field input,
    .field select {
      padding: var(--space-3);
      border: 2px solid var(--color-gray-200);
      border-radius: var(--radius);
      font-size: var(--text-base);
      transition: border-color var(--transition-fast);
    }
    
    .field input:focus,
    .field select:focus {
      outline: none;
      border-color: var(--color-primary);
    }
    
    .field input[readonly] {
      background-color: var(--color-gray-100);
      color: var(--color-gray-600);
      cursor: not-allowed;
    }
    
    .form-consent {
      background: var(--color-primary);
      color: white !important;
      padding: var(--space-4);
      border-radius: var(--radius);
      margin: var(--space-4) 0;
      text-align: center;
    }
    
    .form-consent p {
      color: white !important;
    }
    
    @media (max-width: 768px) {
      .thanks-heading {
        font-size: var(--text-3xl);
      }
      
      .thanks-message {
        font-size: var(--text-lg);
      }
      
      .quote-section {
        padding: var(--space-6);
        margin-top: var(--space-6);
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <div id="header-include"></div>

  <!-- Thank You Hero -->
  <section class="thanks-hero">
    <div class="thanks-content">
      <div class="thanks-icon">
        üéâ
      </div>
      
      <h1 class="thanks-heading">You're Entered!</h1>
      
      <p class="thanks-message">
        Thank you for entering our Winter Giveaway!<br>
        You're now in the running for FREE snow removal all season long.
      </p>
      
      <div class="entry-confirmation">
        <h3>What Happens Next?</h3>
        <ul class="confirmation-details">
          <li>
            <span class="icon">üìÖ</span>
            <span>Three drawing dates: <strong>Sep 15, Oct 1, Oct 15</strong></span>
          </li>
          <li>
            <span class="icon">üèÜ</span>
            <span>One winner from each town on each date</span>
          </li>
          <li>
            <span class="icon">üìû</span>
            <span>Winners contacted within 2 business days of drawing via email and/or phone</span>
          </li>
          <li>
            <span class="icon">üéÅ</span>
            <span>Nine total winners get FREE service all winter!</span>
          </li>
          <li>
            <span class="icon">‚ú®</span>
            <span>Total value up to $4,500 in free services</span>
          </li>
        </ul>
      </div>
      
      <div class="reminder-box">
        <h4>üèÜ Remember: Everyone Can Win!</h4>
        <p>Whether you're a new customer, existing customer, or just a neighbor in need - 
        everyone has an equal chance to win. This is our way of giving back to the amazing 
        CNY community that has supported us for over 20 years.</p>
        <p style="margin-top: var(--space-3);">
          <strong>Already a customer?</strong> If you win, we'll credit your account for the entire season!
        </p>
      </div>
      
      <!-- Pre-filled Quote Section -->
      <div class="quote-section">
        <h3>üöÄ Why Wait? Get Your Quote Now!</h3>
        <p>Since you're already here, why not secure your snow removal for this season? 
        <strong>If you win the giveaway, we'll automatically credit or refund your payment!</strong></p>
        
        <div class="quote-form-container">
          <h4>Your Information üòâ</h4>
          <form id="prefilled-quote-form" class="quote-form" novalidate>
            <div class="form-row">
              <div class="field">
                <label for="quote-name">Name *</label>
                <input type="text" id="quote-name" name="name" required readonly>
              </div>
              <div class="field">
                <label for="quote-mobile">Mobile Phone *</label>
                <input type="tel" id="quote-mobile" name="mobile" required>
              </div>
            </div>
            
            <div class="field">
              <label for="quote-email">Email *</label>
              <input type="email" id="quote-email" name="email" required readonly>
            </div>
            
            <div class="field">
              <label for="quote-address">Street Address *</label>
              <input type="text" id="quote-address" name="address" required placeholder="123 Main Street">
            </div>
            
            <div class="form-row">
              <div class="field">
                <label for="quote-town">Town *</label>
                <select id="quote-town" name="town" required>
                  <option value="">Select your town</option>
                  <option value="Cicero">Cicero</option>
                  <option value="Clay">Clay</option>
                  <option value="Liverpool">Liverpool</option>
                  <option value="North Syracuse">North Syracuse</option>
                  <option value="Other">Other CNY Location</option>
                </select>
              </div>
              <div class="field">
                <label for="quote-zip">ZIP Code *</label>
                <input type="text" id="quote-zip" name="zip" required pattern="\d{5}" placeholder="13039">
              </div>
            </div>
            
            <!-- Hidden fields -->
            <input type="hidden" id="quote-source" name="source" value="Giveaway-Thanks">
            <input type="hidden" id="quote-page" name="page" value="snow-giveaway-thanks">
            
            <div class="form-consent">
              <p><strong>Win-Win Guarantee:</strong> If you're selected as a giveaway winner after signing up, 
              we'll immediately credit or refund your payment. You literally cannot lose!</p>
            </div>
            
            <button type="submit" id="quoteSubmitBtn" class="btn btn--primary btn--large btn--full">
              Get My Quote Now (Full Refund if I Win!) ‚Üí
            </button>
          </form>
          
          <p id="quoteStatusMessage" class="form-status"></p>
        </div>
      </div>
      
      <div class="thanks-actions">
        <a href="https://www.jandrpropertyservices.com" class="btn btn--secondary btn--large">
          Visit Our Website
        </a>
        <a href="../snow-cicero/index.html" class="btn btn--white btn--large" style="background: white; color: var(--color-primary);">
          Get a Quote Anyway
        </a>
      </div>
      
      <p style="margin-top: var(--space-6); font-size: var(--text-sm); opacity: 0.9;">
        Good luck! We'll be in touch if you're one of our winners. üçÄ
      </p>
    </div>
  </section>

  <!-- Footer -->
  <div id="footer-include"></div>

  <!-- Scripts -->
  <script>
    // Load partials
    function loadPartial(elementId, partialPath) {
      fetch(partialPath)
        .then(response => response.text())
        .then(html => {
          const element = document.getElementById(elementId);
          if (element) {
            element.innerHTML = html;
            const scripts = element.querySelectorAll('script');
            scripts.forEach(script => {
              const newScript = document.createElement('script');
              newScript.textContent = script.textContent;
              document.body.appendChild(newScript);
            });
          }
        })
        .catch(err => console.error('Error loading partial:', err));
    }

    loadPartial('header-include', '../shared/partials/header.html');
    loadPartial('footer-include', '../shared/partials/footer.html');

    // Confetti effect
    function createConfetti() {
      const colors = ['#009933', '#5ce188', '#2563eb', '#f59e0b', '#ffffff'];
      const confettiCount = 100;
      
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.style.cssText = `
          position: fixed;
          width: ${5 + Math.random() * 10}px;
          height: ${5 + Math.random() * 10}px;
          background-color: ${colors[Math.floor(Math.random() * colors.length)]};
          left: ${Math.random() * 100}%
          top: -20px;
          opacity: ${0.5 + Math.random() * 0.5};
          transform: rotate(${Math.random() * 360}deg);
          animation: confettiFall ${3 + Math.random() * 2}s linear;
          z-index: 1000;
          pointer-events: none;
          border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
        `;
        document.body.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 5000);
      }
    }
    
    // CSS for confetti animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes confettiFall {
        to {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);
    
    // Trigger confetti on load
    setTimeout(createConfetti, 500);
    // Second wave
    setTimeout(createConfetti, 1500);
    
    // Pre-fill quote form with giveaway data
    function prefillQuoteForm() {
      const urlParams = new URLSearchParams(window.location.search);
      const name = urlParams.get('name');
      const email = urlParams.get('email');
      const mobile = urlParams.get('mobile');
      const town = urlParams.get('town');
      
      if (name) document.getElementById('quote-name').value = decodeURIComponent(name);
      if (email) document.getElementById('quote-email').value = decodeURIComponent(email);
      if (mobile) document.getElementById('quote-mobile').value = decodeURIComponent(mobile);
      if (town) {
        const townSelect = document.getElementById('quote-town');
        townSelect.value = decodeURIComponent(town);
      }
    }
    
    // Quote form submission
    document.addEventListener('DOMContentLoaded', function() {
      prefillQuoteForm();
      
      const quoteForm = document.getElementById('prefilled-quote-form');
      const quoteStatusMessage = document.getElementById('quoteStatusMessage');
      
      if (quoteForm) {
        quoteForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          
          const submitBtn = document.getElementById('quoteSubmitBtn');
          const originalText = submitBtn.textContent;
          
          submitBtn.disabled = true;
          submitBtn.textContent = 'Submitting...';
          quoteStatusMessage.textContent = '';
          quoteStatusMessage.className = 'form-status';
          
          const formData = new FormData(quoteForm);
          
          try {
            // Use the same Google Apps Script URL
            const response = await fetch('https://script.google.com/macros/s/AKfycbyoJwkPws4mDXTBYOMD6rM3yVjPlRn4mCMzcHbaCORETbTND2t_-cMZnYRZNFDVGQwPNA/exec', {
              method: 'POST',
              body: formData,
            });
            
            if (response.ok) {
              quoteStatusMessage.textContent = '‚úÖ Quote request submitted! We\'ll contact you within 1-2 business days.';
              quoteStatusMessage.className = 'form-status success';
              quoteForm.style.display = 'none';
            } else {
              throw new Error('Submission failed');
            }
          } catch (error) {
            quoteStatusMessage.textContent = 'There was an error. Please try again or call (315) 699-4971.';
            quoteStatusMessage.className = 'form-status error';
          } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = originalText;
          }
        });
      }
    });
  </script>

</body>
</html>